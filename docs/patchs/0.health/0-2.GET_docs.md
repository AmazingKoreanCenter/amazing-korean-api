# PATCH — Phase 0-2 API Docs (GET /docs)

ROLE: Senior Rust Backend (Axum 0.8, SQLx 0.7+, utoipa 5, Rust stable 1.89)를 돕는 **AI 코딩 에이전트**

OBJECTIVE:
- Phase 0-2 `GET /docs` (Swagger UI)를 AMK_API_MASTER.md 스펙에 맞춰 구현/점검.
- 특히 **태그 표시 순서(Tag Order)**가 스펙과 정확히 일치하도록 `ApiDoc` 구조체를 수정.

CONTEXT (프로젝트 규칙 - SSOT 준수):
- **Spec**: `docs/AMK_API_MASTER.md`의 [5.0 Phase 0] 및 [0-2 시나리오] 참조.
- **Rules**:
  - `utoipa` 및 `utoipa-swagger-ui` 사용.
  - `Router`에 Swagger UI 경로 (`/docs`)가 올바르게 마운트되어야 함.
  - **Tag Order (절대 기준)**: `health` → `auth` → `user` → `videos` → `study` → `lesson` → `admin`

CONTRACT (구현 명세):
- [Phase] Phase 0-2 API 문서 (Swagger UI)
- [HTTP] GET /docs
- [Logic]
  - `src/docs.rs`에 정의된 `ApiDoc` struct의 `#[openapi(tags(...))]` 순서를 스펙대로 정렬.
  - `src/api/mod.rs` (또는 라우터 설정 파일)에서 `/docs` 경로로 Swagger UI를 서빙.
  - 인증 스키마(`bearerAuth`, `refreshCookie`) 포함 필수.
- [Checklist]
  - 성공: 브라우저 접근 시 200 OK 및 UI 렌더링.
  - 실패(스키마 오류): 컴파일 타임 또는 런타임에 매크로 에러가 없어야 함.

PATCH RULES (엄격 준수):
1. **Full File Replacement**: `src/docs.rs`는 반드시 **전체 코드**를 제공해야 한다. (태그 순서 재정렬 포함)
2. **Compile-Ready**: `cargo check` 즉시 통과 필수.
3. **No Partial Patches**: `src/api/mod.rs` 등 라우팅 관련 파일이 수정된다면 해당 파일도 전체 코드로 제공.

ACCEPTANCE CRITERIA:
- `cargo check` 통과 ✔
- `curl http://localhost:3000/docs` 호출 시 HTML 응답(200) 확인 ✔
- (수동 확인) 웹 브라우저 접속 시 태그 순서가 `health` -> `auth` -> ... 순으로 보여야 함.

FILE PATCHES START
// AI가 작성할 영역 (`src/docs.rs` 등)
FILE PATCHES END

# cURL SMOKE
```bash
# 1. Swagger UI HTML 페이지 로드 확인
curl -v http://localhost:3000/docs

# 2. OpenAPI JSON 스펙 로드 확인 (보통 /api-docs/openapi.json 경로 사용)
curl -v http://localhost:3000/api-docs/openapi.json | head -n 20
```