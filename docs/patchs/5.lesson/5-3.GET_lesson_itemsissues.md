# 📝 Phase 5-3 회고 및 트러블슈팅 로그

이번 Phase는 앞서 구축한 스키마와 패턴을 재사용하여 개발 생산성을 극대화한 단계였습니다. 또한, 인증(Auth) 정책에 대한 개발자의 의도를 재확인하는 과정이 있었습니다.

## 1. 프로세스 및 기획 (Process & Planning)

### ✅ 인증 정책의 이해 (Public Access Strategy)
* **질문:** "로그인 없이도 접근 가능한가?"
* **확인:** Spec 상 `Auth pass or stop`으로 정의되어 있어, 비로그인 사용자(Guest)에게도 수업 내용을 공개하는 **Open Policy**임을 확인.
* **결과:** 불필요한 인증 미들웨어 강제를 피하고, 향후 수강권(Subscription) 모델 도입 시 403 로직을 추가할 수 있도록 유연한 구조 유지.

## 2. 기술적 구현 포인트 (Technical Implementation)

### ✅ Repository 패턴의 확장 (Extension)
* **상황:** Phase 5-2(`find_items`)와 데이터가 유사하지만, 용도(Study View)가 다름.
* **해결:** 기존 메서드를 수정하는 대신 `find_items_for_study_view`라는 별도 메서드로 분리.
* **이점:** 향후 '학습 화면'에만 필요한 데이터(예: 풀이 이력, 북마크 등)가 추가되더라도, '상세 조회' 로직에 영향을 주지 않는 **SRP(단일 책임 원칙)** 준수.

### ✅ 404 Not Found의 명확한 기준
* **로직:** 단순히 빈 리스트(`[]`)를 반환하는 것이 아니라, `exists_lesson` 쿼리를 통해 **"수업 자체가 존재하지 않음"**을 명확히 에러로 처리.
* **효과:** 클라이언트가 "데이터가 없는 것"과 "잘못된 접근"을 구분하여 UI 처리를 할 수 있게 됨.

## 3. 총평 (Conclusion)
* **진행:** 스키마 안정화 이후 코드 생산 속도가 비약적으로 상승함.
* **결과:** 학습 화면 진입을 위한 데이터 파이프라인 구축 완료.