# 📝 Phase 6-32 Admin List Lessons - Issue & Troubleshooting Log

## 1. 컴파일 이슈 (Compilation Issues)

### ⚠️ 이슈 1: OpenAPI Schema 속성 오류 (`unexpected attribute: rename`)
* **현상:** `cargo check` 시 `#[schema(rename = "...")]` 부분에서 에러가 발생하며, 이로 인해 `ToSchema` 트레이트 구현까지 연쇄적으로 실패함.
* **원인:** 사용 중인 `utoipa` 라이브러리(v5.x 이상)에서 스키마 이름을 변경하는 속성 키워드가 `rename`에서 **`as`**로 변경되었음.
* **해결:** `#[schema(rename = "AdminLessonListReq")]`를 **`#[schema(as = AdminLessonListReq)]`**로 문법을 수정하여 해결.

---

## 2. 주요 성과 (Key Achievements)

### ✅ Lesson 도메인의 성공적 안착
* **성과:** `Study` 도메인과 구조는 비슷하지만 독립적인 `Lesson` 도메인의 첫 API(목록 조회)를 신속하게 구현함.
* **구현:**
    * `src/api/admin/lesson` 모듈 구조를 깔끔하게 잡음.
    * `lesson_idx`, `title`, `subtitle`을 동시에 검색하는 `ILIKE` + `OR` 조건의 동적 쿼리가 완벽하게 동작함.

### ✅ 표준 패턴의 위력 (Standardization)
* **성과:** `admin_list_studies`에서 확립한 **"DTO 정의 → QueryBuilder 조회 → Audit Log 기록"** 패턴을 그대로 적용하여, 로직 고민 시간을 단축하고 안정성을 확보함.

---

## 3. 총평 (Conclusion)

새로운 도메인(`Lesson`)으로 넘어왔지만, 기존에 잘 닦아둔 기반(`QueryBuilder`, `AuditLog`, `DTO Macro`) 덕분에 개발 속도가 전혀 줄지 않았습니다.
`utoipa` 속성 변경 같은 외부 라이브러리 이슈도 가볍게 해결하며, 이제 **수업(Lesson) 관리 기능**을 본격적으로 확장할 준비가 되었습니다.