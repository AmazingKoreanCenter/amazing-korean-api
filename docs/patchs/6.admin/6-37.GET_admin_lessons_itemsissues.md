# 📝 Phase 6-37 Admin List Lesson Items - Issue & Achievement Log

## 1. 주요 성과 (Key Achievements)

### ✅ 동적 필터링의 완벽한 적용 (Dynamic Filtering)
* **성과:** `lesson_id`(특정 수업의 아이템만 보기)와 `lesson_item_kind`(비디오/문제 구분) 필터가 모두 `Option`으로 들어오는 상황을 `QueryBuilder`로 우아하게 처리했습니다.
* **효과:**
    * 관리자는 "수업 A의 구성요소 전체"를 볼 수도 있고,
    * "전체 수업 중 등록된 비디오 리스트"만 따로 뽑아볼 수도 있는 유연한 API가 되었습니다.

### ✅ Enum 타입의 안전한 조회
* **구현:** `lesson_item_kind`는 DB에서 `ENUM` 타입이지만, DTO 매핑 시 `sqlx`가 이를 `String`으로 자동 변환하거나 Rust `Enum`으로 매핑하여 문제없이 데이터를 가져왔습니다.

### ✅ 표준화된 아키텍처의 승리
* **성과:** `Controller` -> `Service` -> `Repo(QueryBuilder)` -> `DTO(FromRow)`로 이어지는 흐름이 이제 완전히 기계적으로(긍정적인 의미로) 작성되고 있습니다.
* **의의:** 앞으로 어떤 조회 기능이 추가되더라도 버그 없이 빠르게 찍어낼 수 있는 상태가 되었습니다.

---

## 2. 잠재적 이슈 예방 (Prevented Issues)

### 🛡️ SQL Injection 방지
* **전략:** 정렬(`sort`) 필드에 대해서는 화이트리스트 검사(또는 match)를 수행하고, 검색 조건(`WHERE`) 값들은 모두 바인딩(`$1`, `$2`) 처리했습니다.
* **결과:** 외부 입력값에 의한 쿼리 조작 가능성을 원천 차단했습니다.

---

## 3. 총평 (Conclusion)

`LESSON_ITEM` 테이블의 데이터를 들여다보는 창(Window)을 만들었습니다.
하지만 현재는 테이블이 비어있거나 테스트 데이터뿐일 것입니다.

이제 이 목록을 채울 수 있도록 **아이템 생성** 기능으로 넘어가야 합니다.
특히 아이템은 "순서(`seq`)"와 "종류(`kind`)"가 중요하므로 이 부분을 중점적으로 다뤄야 합니다.