# 🛠️ Issue Log: Phase 0 (Setup & Health Check) Implementation

## 📋 개요
- **작업**: 프론트엔드 환경 구축 (WSL, React+Vite, Shadcn/ui) 및 Health Check UI 구현
- **기간**: 2026.01.12
- **주요 성과**:
  - WSL2 환경에서 Node.js/Rust 개발 환경 트러블슈팅 완료.
  - 백엔드 DTO(Rust Struct)를 프론트엔드 타입(Zod Schema)으로 자동 변환하는 파이프라인 정립.
  - Vite Proxy 설정을 통해 CORS 문제 없이 백엔드(`:3000`)와 통신 성공.
  - Vertical Slicing 폴더 구조(`src/category/health`) 검증 완료.

---

## 🐛 발생 이슈 및 해결 (Troubleshooting)

### 1. WSL UNC 경로 및 명령어 실행 불가
- **증상**: 
  - `npm run dev` 실행 시 `UNC paths are not supported` 에러 발생.
  - `cargo run` 실행 시 `'cargo' 용어가 인식되지 않음` 에러 발생.
- **원인**: 
  - 윈도우 PowerShell에서 WSL 파일 시스템(`\\wsl.localhost\...`)에 직접 접근하여 명령어를 실행하려 함.
  - Node.js와 Rust가 윈도우가 아닌 WSL(Ubuntu) 내부에 설치되어 있음.
- **해결**:
  - PowerShell에서 `wsl` 명령어를 입력하여 Ubuntu 셸로 진입.
  - 리눅스 내부 경로(`~/dev/...`)로 이동하여 명령어 실행.

### 2. Vite 프록시 설정 오류 (`Unexpected token <`)
- **증상**: 
  - API 호출 시 `200 OK`는 뜨지만, 응답 내용이 JSON이 아닌 HTML(`<!doctype html>...`)로 옴.
  - 콘솔에 `SyntaxError: Unexpected token '<'` 에러 발생.
- **원인**: 
  - `vite.config.ts`의 프록시 설정은 `/api`로 시작하는 요청만 백엔드(`:3000`)로 넘기도록 되어 있음.
  - 클라이언트 코드(`health_api.ts`)에서 `/api` 접두사 없이 `/healthz`로 요청을 보냄.
  - Vite 개발 서버가 이를 "페이지 이동 요청"으로 간주하고 `index.html`을 반환함.
- **해결**:
  - `health_api.ts`의 요청 경로를 `/healthz` → `/api/healthz`로 수정.
  - (Vite의 `rewrite` 설정 덕분에 백엔드에는 `/healthz`로 정상 전달됨).

### 3. Tailwind CSS 버전 호환성 이슈
- **증상**: `npx shadcn@latest init` 실행 시 `Validating Tailwind CSS config. Found v4.` 에러 발생.
- **원인**: 최신 Tailwind v4가 설치되었으나, shadcn/ui CLI가 v4 설정 파일 구조를 인식하지 못함.
- **해결**:
  - `npm uninstall tailwindcss` 후 `npm install -D tailwindcss@3.4.17`로 **v3 버전 고정 설치**.
  - `shadcn` CLI 대신 수동으로 `components.json`, `tailwind.config.js`, `index.css` 파일을 생성하여 설정 완료.

### 4. DTO 필드명 변환 정책 수립
- **고민**: 백엔드(Rust)는 `snake_case`, 프론트엔드(JS)는 `camelCase`가 관례라 변환이 필요했음.
- **결정**: **"변환하지 않음 (No Conversion)"** 정책 채택.
  - 이유: 자동 변환 과정에서 오작동 가능성이 높고, DTO 정의 파일(`types.ts`)과 실제 데이터 간 괴리 방지.
  - 조치: `0-1.DTO to TypeScript.md` 프롬프트에 **"Strictly maintain snake_case"** 규칙 명시.
  - 결과: `uptime_ms` 등의 필드명을 그대로 사용하여 데이터 손실 없이 통신 성공.

---

## 💡 Key Takeaways (교훈)
1. **WSL 개발의 정석**: 윈도우 터미널에서 `code .`으로 VS Code를 열더라도, 터미널 명령어는 반드시 **WSL 모드(`wsl`)** 안에서 실행해야 한다.
2. **프록시의 함정**: 개발 서버(Vite)에서 API 요청이 실패할 때, 404가 아니라 HTML이 반환된다면 **"요청 경로 접두사(/api)"**와 **"프록시 설정(vite.config.ts)"**을 제일 먼저 의심하자.
3. **DTO 동기화의 힘**: 백엔드 코드를 복사해서 프론트엔드 타입을 생성하는 방식(LLM 활용)은 오타와 타입 에러를 획기적으로 줄여준다. 앞으로도 모든 Phase 시작 전 이 과정을 선행한다.