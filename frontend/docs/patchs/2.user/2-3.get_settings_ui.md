# PATCH REQUEST — FRONTEND Phase 2-3 Get Settings UI

**ROLE**:
- Frontend Developer (React, React Query, Shadcn/ui).

**OBJECTIVE**:
- 로그인한 사용자의 환경 설정 정보를 조회하는 페이지(`/settings`)를 구현하시오.
- `GET /users/me/settings` API를 호출하여 현재 저장된 설정값(테마, 알림 여부 등)을 화면에 렌더링해야 합니다.

**MCP ACTIONS**:
1.  **Read Types**: `src/category/user/types.ts` 확인 (없다면 `UserSetting` 타입 추가).
2.  **Read API**: `src/category/user/user_api.ts` 확인.

**UI SPEC (Shadcn First)**:
- **Path**: `/settings` (Protected Route)
- **Layout**: `max-w-lg` 중앙 정렬 Card.
- **Components**:
    - `<Card>`: 설정 컨테이너.
    - **Items (List)**:
        - **Theme**: `<Select>` or RadioGroup (Light / Dark / System).
        - **Marketing Email**: `<Switch>` (On / Off) + `<Label>`.
        - **Language**: `<Select>` (Korean / English).
- **Feedback (State Machine)**:
    - **Loading (`Page: init`)**: 각 항목 위치에 `<Skeleton>` 표시.
    - **Success (`Data: present`)**: 서버에서 받은 값으로 Switch/Select 상태 바인딩.
    - **Error 401 (`Auth: stop`)**: `PrivateRoute`에 의해 로그인 페이지로 리다이렉트.
    - **Error 404 (`Data: empty`)**: 설정 데이터가 없는 경우 초기값(Default)으로 렌더링.

**DATA SPEC**:
- **API Endpoint**: `GET /users/me/settings`
- **Response Type (`UserSetting`)** (예시 스키마):
  ```typescript
  {
    user_id: number;
    theme: 'light' | 'dark' | 'system';
    is_email_marketing_agreed: boolean; // 마케팅 수신 동의
    language: 'ko' | 'en';
    // ...
  }
  ```

**IMPLEMENTATION STEPS**:
1.  **Type**: `src/category/user/types.ts` -> `UserSetting` 인터페이스 정의.
2.  **API**: `src/category/user/user_api.ts` -> `getUserSettings` 함수 구현.
3.  **Hook**: `src/category/user/hook/use_user_settings.ts` -> `useQuery` 구현 (`queryKey: ['user', 'settings']`).
4.  **Component**: `src/category/user/page/settings_page.tsx` 구현.
    - 데이터 로딩 시 Skeleton 처리.
    - 데이터가 로드되면 UI 컨트롤(Switch 등)에 `defaultChecked`, `defaultValue` 등으로 매핑.
5.  **Route**: `src/app/routes.tsx` -> `/settings` 등록 (PrivateRoute 내부).

**FILE PATCHES**:
// src/category/user/types.ts
// src/category/user/user_api.ts
// src/category/user/hook/use_user_settings.ts
// src/category/user/page/settings_page.tsx
// src/app/routes.tsx

**PATCH RULES**:
1.  **Visual Feedback**: 설정값은 텍스트가 아닌 **UI 컨트롤(Switch, Select)** 형태로 시각화하여 표현할 것.
2.  **Read-Only Mode**: 이번 단계는 **'조회(GET)'**이므로, 컨트롤을 조작해도 API 요청(PUT/PATCH)은 보내지 않음 (UI만 변경됨).