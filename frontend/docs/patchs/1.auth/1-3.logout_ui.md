# PATCH REQUEST — FRONTEND Phase 1-3 Logout UI

**ROLE**:
- Frontend Developer (React, Zustand, Shadcn/ui).

**OBJECTIVE**:
- 로그아웃 기능(`POST /auth/logout`)을 구현하고, **"LogoutButton" 컴포넌트**를 생성하시오.
- 서버 응답 결과와 관계없이 클라이언트 세션(Store/LocalStorage)을 안전하게 파기하는 로직을 구현하시오.

**MCP ACTIONS**:
1.  **Read Store**: `src/hooks/use_auth_store.ts`의 `logout` 액션 확인.
2.  **Read API**: `src/api/client.ts` 확인 (Authorization 헤더 자동 주입 여부).

**UI SPEC (Shadcn First)**:
- **Component**: `src/category/auth/components/logout_button.tsx`
- **Design**:
    - `<Button variant="ghost" or "destructive">`: "로그아웃" 텍스트.
    - **Loading**: 클릭 시 버튼 비활성화 및 스피너/텍스트 변경 ("Logging out...").
- **Interaction**:
    - 클릭 -> `useLogout` 훅 실행 -> 성공/실패 여부와 상관없이 로그인 화면으로 이동.
- **Feedback**:
    - Toast: "로그아웃 되었습니다."

**DATA SPEC**:
- **API Endpoint**: `POST /api/auth/logout`
- **Headers**: `Authorization: Bearer <token>` (Axios Interceptor가 처리).
- **Response**: `204 No Content` (성공) or `401 Unauthorized` (이미 만료됨).

**IMPLEMENTATION STEPS**:
1.  **API Function**: `src/category/auth/auth_api.ts` -> `logout()` 함수 추가.
2.  **Hook**: `src/category/auth/hook/use_logout.ts` -> `useMutation` 사용.
    - **Critical Logic**: `onSettled` (성공/실패 상관없이 실행되는 콜백)에서 `useAuthStore.logout()`을 호출하여 클라이언트 상태를 무조건 초기화할 것.
3.  **Component**: `src/category/auth/components/logout_button.tsx` 구현.
4.  **Test Integration**: `src/App.tsx` (또는 메인 페이지)에 `<LogoutButton />` 추가하여 테스트 환경 구성.

**FILE PATCHES**:
// 1. [수정] API 함수 추가
src/category/auth/auth_api.ts

// 2. [생성] 로그아웃 비즈니스 로직 (Hook)
src/category/auth/hook/use_logout.ts

// 3. [생성] 로그아웃 버튼 UI 컴포넌트
src/category/auth/components/logout_button.tsx

// 4. [수정] 테스트를 위해 메인 화면에 버튼 배치
src/App.tsx

**PATCH RULES**:
1.  **Fail-Safe**: API 요청이 실패(네트워크 오류, 500 등)하더라도, 사용자는 로그아웃 처리되어야 함.
2.  **Redirect**: 로그아웃 완료 후 `/login` 페이지로 이동 (`Maps('/login')`).
3.  **Clean Code**: `LogoutButton`은 로직 없이 UI만 담당하고, 로직은 `useLogout` 훅에 위임하시오.