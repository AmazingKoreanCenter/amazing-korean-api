# 🛠️ Issue Log: Phase 1-1 (Signup UI) Implementation

## 📋 개요
- **작업**: 회원가입 화면(`/signup`) 구현 및 백엔드(`POST /users`) 연동
- **기간**: 2026.01.12
- **주요 성과**:
  - React Hook Form + Zod + Shadcn UI를 결합한 고품질 폼 UI 구축.
  - 프론트엔드 유효성 검사(Client Validation)와 백엔드 에러 처리(Toast) 연동 성공.
  - **Zero Type Mismatch**: 백엔드와 동일한 `snake_case` DTO 사용으로 데이터 전송 오류 0건 달성.

---

## 🐛 발생 이슈 및 해결 (Troubleshooting & Prevention)

### 1. DTO 필드명 불일치 위험 사전 차단 (Success Pattern)
- **잠재 위험**: 백엔드는 `user_state`, `terms_service` 등 `snake_case`를 쓰는데, 프론트 관습대로 `camelCase`로 변환하려다 데이터가 누락될 뻔함.
- **해결**:
  - Phase 0에서 생성한 `src/category/user/types.ts`를 그대로 사용.
  - 프롬프트에 **"Strictly use snake_case for API fields"** 규칙을 명시하여 AI가 변환을 시도하지 않도록 강제.
  - **결과**: 별도 매핑 로직 없이 DB Insert 성공.

### 2. Vite Proxy 경로 접두사 준수
- **이슈**: `POST /users`로 요청하면 404 또는 HTML 반환 에러 발생 가능성 존재 (Phase 0 교훈).
- **해결**:
  - API 호출 함수 작성 시 `/api/users`로 접두사(`/api`)를 명확히 붙임.
  - `vite.config.ts`의 `rewrite` 규칙이 정상 작동하여 백엔드에는 `/users`로 전달됨을 확인.

### 3. 복잡한 Shadcn Form Boilerplate 처리
- **이슈**: Shadcn UI의 `<Form>`, `<FormField>`, `<FormControl>` 구조는 매우 장황하여(Verbose) 사람이 직접 타이핑하기 번거롭고 오타 발생 확률이 높음.
- **해결**:
  - **AI 위임 전략**: 프롬프트에 "Use Shadcn Form components"를 명시하여 AI가 Boilerplate 코드를 생성하도록 함.
  - 개발자는 생성된 코드에서 라벨링이나 스타일 미세 조정만 수행.

### 4. 유효성 검사 이중화 (UX/Security)
- **현황**: 백엔드에서도 검증하지만, 사용자 경험을 위해 프론트엔드 즉시 피드백이 필요.
- **구현**:
  - **Zod Resolver**를 사용하여 이메일 형식, 비밀번호 길이(8자 이상), 약관 동의 여부를 입력 즉시 검증.
  - 백엔드 에러(예: "중복된 이메일입니다")는 `try-catch` 블록에서 잡아내어 `toast.error()`로 사용자에게 알림.

---

## 💡 Key Takeaways (교훈)
1.  **Type-Driven Development**: 백엔드 DTO를 프론트엔드 타입으로 미리 변환해두는 작업(Phase 0)이 개발 생산성과 안정성을 비약적으로 높여준다.
2.  **AI for Boilerplate**: Shadcn 처럼 구조가 반복적이고 코드가 긴 UI 라이브러리는 AI에게 맡기는 것이 효율적이다.
3.  **State Management**: 회원가입 성공 후 즉시 `useAuthStore.login()`을 호출하여, 별도 로그인 과정 없이 메인 서비스로 진입하게 한 UX 흐름이 자연스럽게 구현됨.