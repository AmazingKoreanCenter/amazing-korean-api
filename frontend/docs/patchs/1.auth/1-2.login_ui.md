# PATCH REQUEST — FRONTEND Phase 1-2 Login UI

**ROLE**:
- Frontend Developer (React, Zod, Shadcn/ui, Zustand).

**OBJECTIVE**:
- 로그인 페이지(`/login`)를 구현하고, 백엔드 API(`POST /auth/login`)와 연동하여 인증/세션 처리를 완료하시오.
- 제공된 **상태 머신(State Machine)** 및 **에러 정책**을 준수하여 정교한 UI 피드백을 구현하시오.

**MCP ACTIONS**:
1.  **Read Types**: `src/category/auth/types.ts`의 `LoginReq`, `LoginRes` 구조 확인.
2.  **Read Store**: `src/hooks/use_auth_store.ts`의 `login` 액션 사용법 확인.
3.  **Read Client**: `src/api/client.ts`의 에러 인터셉터 또는 응답 처리 방식 확인.

**UI SPEC (Shadcn First)**:
- **Path**: `/login`
- **Layout**: `max-w-md` 중앙 정렬 Card (회원가입 페이지와 통일감 유지).
- **Components**:
    - `<Form>` (React Hook Form + Zod Resolver).
    - `<Input>`: Email, Password (type="password").
    - `<Button>`: "로그인" (Loading 시 Spinner 표시 및 비활성화 - `submitting` 상태).
    - **Links**:
        - "계정이 없으신가요? 회원가입" (`/signup` 이동).
        - "비밀번호를 잊으셨나요?" (UI만 구현, 링크는 `#`).
- **Feedback (State Machine Mapping)**:
    - **Validating**: 클라이언트 측 형식 검증 실패 시 Input 하단에 에러 메시지.
    - **Submitting**: 버튼 비활성화.
    - **Success**: Toast "로그인 성공!" -> 메인 페이지(`/`) 리다이렉트.
    - **Error**: API 상태 코드별 Toast 메시지 분기 처리 (아래 Error Handling 참조).

**DATA SPEC (Strict snake_case)**:
- **API Endpoint**: `POST /api/auth/login` (Proxy 적용을 위해 `/api` 접두사 필수).
- **Request DTO**: `src/category/auth/types.ts`의 `LoginReq` 사용 (`email`, `password` 등).
- **Response DTO**: `LoginRes` (성공 시 `access_token`, `user_id` 등 포함).

**ERROR HANDLING (Status Code Policy)**:
- **400 (Bad Request)**: "입력 형식을 확인해주세요."
- **401 (Unauthorized)**: "이메일 또는 비밀번호가 일치하지 않습니다." (자격증명 불일치)
- **403/423 (Forbidden)**: "접근이 차단된 계정입니다. 관리자에게 문의하세요."
- **429 (Too Many Requests)**: "너무 많은 시도가 있었습니다. 잠시 후 다시 시도해주세요."
- **500 (Internal Error)**: "서버 오류가 발생했습니다."

**IMPLEMENTATION STEPS**:
1.  **API Function**: `src/category/auth/auth_api.ts` 내보내기 추가 -> `login(data: LoginReq)` 구현.
2.  **Hook**: `src/category/auth/hook/use_login.ts` -> `useMutation` 사용.
    - `onSuccess`: `useAuthStore.login(data)` 실행 -> `/` 이동.
    - `onError`: 에러 상태 코드별 메시지 매핑.
3.  **Component**: `src/category/auth/page/login_page.tsx` -> UI 구현.
4.  **Route**: `src/app/routes.tsx` 라우트 등록.

**PATCH RULES**:
1.  **Strict Typing**: `LoginReq`, `LoginRes` 타입을 반드시 사용하시오.
2.  **Auth Store Integration**: 로그인 성공 시 반드시 `useAuthStore`를 통해 상태를 업데이트해야 합니다.