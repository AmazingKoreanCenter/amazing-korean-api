# 🛠️ Issue Log: Phase 1-5 (Find ID UI) Implementation

## 📋 개요
- **작업**: 아이디 찾기 페이지(`/find-id`) 구현 및 보안 정책(Enumeration Safe) 적용.
- **기간**: 2026.01.13
- **주요 성과**:
  - **Enumeration Safe UI**: 계정 존재 여부와 상관없이 동일한 응답 메시지를 출력하여 해킹 시도(Email Fishing) 차단.
  - **Backend Log Verification**: UI의 모호함을 보완하기 위해 `USERS_LOG`를 통해 실제 로직 수행 여부(`user_action_success: true`) 검증 완료.
  - **Conflict Resolution**: 이전 Phase(1-4)의 `client.ts` 수정 사항을 유지하며 안정적으로 기능 확장.

---

## 🐛 발생 이슈 및 해결 (Troubleshooting)

### 1. 보안 정책과 사용자 피드백의 딜레마 (Enumeration Safe)
- **이슈**: 아이디 찾기 성공 시, 화면에 아이디를 직접 보여주면 안 되는 보안 규칙이 존재.
- **해결**:
  - 입력한 정보가 맞든 틀리든 무조건 **"입력하신 정보가 일치할 경우, 이메일이 발송됩니다."**라는 동일한 메시지 출력.
  - 이를 통해 해커가 무작위 대입 공격으로 가입된 이메일을 식별하는 것을 방지.

### 2. 실제 발송 여부 검증 (Log Analysis)
- **이슈**: UI가 항상 성공 메시지를 보여주므로, 개발자조차 "진짜로 DB에서 찾아서 보낸 건지" 확인하기 어려움.
- **해결**: 백엔드 `USERS_LOG` 데이터를 직접 확인하여 검증.
  - **로그 데이터 확인**: `user_id: 16`, `user_email_log: front@front.com`, `user_action_success: true`
  - **결론**: UI는 보안 메시지를 띄웠지만, 백엔드는 정확히 유저를 특정하고 로직을 수행했음을 확인함.

### 3. SMTP 설정과 발송 로직의 분리
- **현상**: 백엔드 로직은 성공(`true`)했지만, 실제 이메일 수신함에는 메일이 오지 않을 수 있음.
- **원인**: 현재 백엔드(Rust)에 SMTP(메일 서버) 설정이 되어 있지 않더라도, 비즈니스 로직(유저 찾기+로그 기록)은 성공으로 처리되기 때문.
- **조치**: 이는 "버그"가 아니라 "설정 미비"임. 추후 백엔드 `config`에 SMTP 키를 등록하면 즉시 발송됨을 확인.

---

## 💡 Key Takeaways (교훈)
1.  **Trust the Logs, Not the UI**: 보안 기능(찾기, 비밀번호 재설정) 개발 시, UI는 거짓말(또는 침묵)을 하도록 설계되므로 반드시 서버 로그를 통해 동작을 검증해야 한다.
2.  **Fail-Safe Message**: 사용자에게 "성공/실패"를 명확히 알려주는 것이 항상 좋은 UX는 아니다. 보안을 위해 의도적인 모호함(Ambiguity)이 필요한 영역이 있다.
3.  **Code Continuity**: Codex와의 협업 시, 이전 단계에서 수동으로 패치한 중요한 코드(`client.ts` 등)가 있다면 명확히 "유지하라(Keep as-is)"고 지시하여 덮어쓰기를 방지해야 한다.