# PATCH REQUEST — FRONTEND Phase 1-6 Reset Password UI

**ROLE**:
- Frontend Developer (React, Zod, Shadcn/ui, React Router).

**OBJECTIVE**:
- 비밀번호 재설정 페이지(`/reset-password`)를 구현하고, 백엔드 API(`POST /auth/reset-pw`)와 연동하시오.
- 이메일 링크를 통해 전달된 **토큰(Token)**을 URL 쿼리 파라미터에서 추출하여, 비밀번호 변경 요청 시 함께 전송해야 합니다.

**MCP ACTIONS**:
1.  **Read Types**: `src/category/auth/types.ts` 확인 (없다면 `ResetPasswordReq` 타입 추가).
2.  **Read Router**: `react-router-dom`의 `useSearchParams` 훅 사용법 확인.

**UI SPEC (Shadcn First)**:
- **Path**: `/reset-password` (Query Param: `?token=<jwt_or_code>`)
- **Layout**: `max-w-md` 중앙 정렬 Card (로그인 페이지와 통일감 유지).
- **Components**:
    - `<Form>` (React Hook Form + Zod Resolver).
    - `<Input type="password">`: 새 비밀번호 (New Password).
    - `<Input type="password">`: 새 비밀번호 확인 (Confirm Password).
    - `<Button>`: "비밀번호 변경" (Loading state 표시).
- **Validation (Client)**:
    - 비밀번호 최소 6자 이상.
    - **중요**: "새 비밀번호"와 "확인" 필드가 일치해야 함 (`refine` 함수 사용).
- **Feedback**:
    - **Success**: Toast "비밀번호가 성공적으로 변경되었습니다." -> `/login` 이동.
    - **Error (401)**: Toast "유효하지 않거나 만료된 링크입니다." (홈으로 리다이렉트 고려).
    - **Error (422)**: 폼 하단에 유효성 에러 메시지 표시.

**DATA SPEC**:
- **API Endpoint**: `POST /api/auth/reset-pw`
- **Request Body**:
  ```json
  {
    "token": "string (extracted from url)",
    "new_password": "string"
  }
  ```
- **Response**:
    - **200 OK** (또는 204): 성공.
    - **401 Unauthorized**: 토큰 만료/위조.
    - **422 Unprocessable Entity**: 비밀번호 정책 위반.

**IMPLEMENTATION STEPS**:
1.  **Type Definition**: `src/category/auth/types.ts` -> `ResetPasswordReq` 정의.
2.  **API Function**: `src/category/auth/auth_api.ts` -> `resetPassword` 함수 추가.
3.  **Hook**: `src/category/auth/hook/use_reset_password.ts` -> `useMutation` 구현.
4.  **Component**: `src/category/auth/page/reset_password_page.tsx` 구현.
    - `useSearchParams`로 `token` 존재 여부 확인.
    - 토큰이 없으면 "잘못된 접근입니다" Toast 후 `/` 이동.
5.  **Route**: `src/app/routes.tsx` 라우트 등록.

**FILE PATCHES**:
// src/category/auth/types.ts
// src/category/auth/auth_api.ts
// src/category/auth/hook/use_reset_password.ts
// src/category/auth/page/reset_password_page.tsx
// src/app/routes.tsx

**PATCH RULES**:
1.  **Strict Validation**: 비밀번호 일치 여부는 프론트엔드 Zod 스키마에서 반드시 먼저 검증할 것.
2.  **Clean UX**: 변경 성공 시 `Maps('/login', { replace: true })`를 사용하여 뒤로 가기 방지.